Handling lib "pwm"...
Handling lib "bt-common"...
Handling lib "wifi"...
The --lib flag was not given for it, checking repository
The --lib flag was not given for it, checking repository
The --lib flag was not given for it, checking repository
Falling back to sources for "wifi" (failed to fetch prebuilt binary: got 404 status code when accessed https://github.com/mongoose-os-libs/wifi/releases/download/2.3/libwifi-esp32.a)
Prepared local dir: "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi"
Handling lib "mongoose"...
The --lib flag was not given for it, checking repository
Falling back to sources for "pwm" (failed to fetch prebuilt binary: got 404 status code when accessed https://github.com/mongoose-os-libs/pwm/releases/download/2.3/libpwm-esp32.a)
Prepared local dir: "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm"
Falling back to sources for "bt-common" (failed to fetch prebuilt binary: got 404 status code when accessed https://github.com/mongoose-os-libs/bt-common/releases/download/2.3/libbt-common-esp32.a)
Prepared local dir: "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common"
Prebuilt binary for "mongoose" already exists
Prepared local dir: "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose"
The flag --repo is not given, going to use mongoose-os repository
Sources: [/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src/lib_mos.c]
Include dirs: [/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32 /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include]
Binary libs: []
Building...
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222" to "/app"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os" to "/mongoose-os"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include"
mount from "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen" to "/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen"
Docker arguments: run --name mos_build_2018-07-08T19-42-26-00_8570444134846287649 --rm -i -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os:/mongoose-os -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/modules/mongoose-os -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222:/app -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include -v /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32:/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32 --user 0:0 docker.io/mgos/esp32-build:3.0-rc1-r9 /bin/bash -c nice make '-j' '16' '-C' '/app' '-f' '/mongoose-os/fw/platforms/esp32/Makefile.build' '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib/libmoslib.a' 'APP=lib_mos' 'APP_BIN_LIBS=' 'APP_CFLAGS=-DMGOS_HAVE_BT_COMMON=1 -DMGOS_HAVE_MONGOOSE=1 -DMGOS_HAVE_PWM=1 -DMGOS_HAVE_WIFI=1 -DMGOS_WIFI_ENABLE_AP_STA=1 -DMG_ENABLE_DNS=1 -DMG_ENABLE_DNS_SERVER=1 -DMG_ENABLE_MQTT=1 -DMG_ENABLE_SNTP=1' 'APP_CONF_SCHEMA=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen/mos_conf_schema.yml' 'APP_CXXFLAGS=-DMGOS_HAVE_BT_COMMON=1 -DMGOS_HAVE_MONGOOSE=1 -DMGOS_HAVE_PWM=1 -DMGOS_HAVE_WIFI=1 -DMGOS_WIFI_ENABLE_AP_STA=1 -DMG_ENABLE_DNS=1 -DMG_ENABLE_DNS_SERVER=1 -DMG_ENABLE_MQTT=1 -DMG_ENABLE_SNTP=1' 'APP_FS_FILES=' 'APP_INCLUDES=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/mongoose/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/bt-common/include/esp32 /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/pwm/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/include /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/libs/wifi/esp32/include' 'APP_SOURCES=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src/lib_mos.c' 'APP_VERSION=1.0' 'BUILD_DIR=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs' 'ESP_IDF_EXTRA_COMPONENTS= bt' 'ESP_IDF_SDKCONFIG_OPTS= CONFIG_BT_ENABLED=y CONFIG_BLUEDROID_ENABLED=y CONFIG_BTC_TASK_STACK_SIZE=6144 CONFIG_BLUEDROID_MEM_DEBUG= CONFIG_CLASSIC_BT_ENABLED= CONFIG_BT_DRAM_RELEASE=y CONFIG_GATTS_ENABLE=y CONFIG_GATTC_ENABLE=y CONFIG_BLE_SMP_ENABLE=y CONFIG_BT_STACK_NO_LOG= CONFIG_BT_ACL_CONNECTIONS=4 CONFIG_BTDM_CONTROLLER_RUN_CPU=0 CONFIG_SMP_ENABLE=y CONFIG_BT_RESERVE_DRAM=0x10000 ' 'FFI_SYMBOLS=' 'FS_STAGING_DIR=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/fs' 'FW_DIR=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/fw' 'GEN_DIR=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen' 'MANIFEST_FINAL=/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen/mos_final.yml' 'MGOS_HAVE_BT_COMMON=1' 'MGOS_HAVE_MONGOOSE=1' 'MGOS_HAVE_PWM=1' 'MGOS_HAVE_WIFI=1' 'MGOS_PATH=/mongoose-os' 'MGOS_WIFI_ENABLE_AP_STA=1' 'PLATFORM=esp32' 'MGOS_MAIN_COMPONENT=moslib'
make: Entering directory '/app'
/mongoose-os/fw/platforms/esp32/Makefile.build:179: warning: overriding recipe for target 'defconfig'
/opt/Espressif/esp-idf/make/project_config.mk:75: warning: ignoring old recipe for target 'defconfig'
/mongoose-os/fw/platforms/esp32/Makefile.build:179: warning: overriding recipe for target 'menuconfig'
/opt/Espressif/esp-idf/make/project_config.mk:62: warning: ignoring old recipe for target 'menuconfig'
GENCONFIG
#
# configuration written to /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen/sdkconfig
#
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cs_mbedtls'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/spiffs'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cryptoauthlib'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/xtensa-debug-module'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/vfs'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/tcpip_adapter'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/wpa_supplicant'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/pthread'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/spi_flash'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/partition_table'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/soc'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/micro-ecc'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/newlib'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/nvs_flash'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/spiffs'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/partition_table'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/tcpip_adapter'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/vfs'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/wpa_supplicant'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/log'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/pthread'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/heap'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/freertos'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/expat'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/micro-ecc'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/ethernet'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/nvs_flash'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/xtensa-debug-module'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/lwip'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/spi_flash'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esptool_py'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/soc'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cryptoauthlib'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esptool_py'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esp_adc_cal'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cxx'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bootloader'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/app_update'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bt'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/driver'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/heap'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esp32'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bootloader'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bootloader_support'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/log'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cs_mbedtls'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/newlib'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/app_trace'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/freertos'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/expat'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/lwip'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/ethernet'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/cxx'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/driver'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esp32'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bt'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/bootloader_support'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/app_update'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/esp_adc_cal'
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/app_trace'
make[1]: Entering directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib'
  GEN   /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/gen/mgos_config.c
CC lib_mos.o
/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/src/lib_mos.c:8:12: warning: 'count' defined but not used [-Wunused-variable]
 static int count=0;
            ^
AR /fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib/libmoslib.a
make[1]: Leaving directory '/fwbuild-volumes/2.3/apps/lib_mos/esp32/build_contexts/build_ctx_050890222/build/objs/moslib'
make: Leaving directory '/app'
Target build/objs/moslib/libmoslib.a is built successfully
